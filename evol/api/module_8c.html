<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>evol: src/core/module.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">evol
   </div>
   <div id="projectbrief">A modular game engine built in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">module.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="module_8h_source.html">evol/core/module.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for module.c:</div>
<div class="dyncontent">
<div class="center"><img src="module_8c__incl.png" border="0" usemap="#asrc_2core_2module_8c" alt=""/></div>
<map name="asrc_2core_2module_8c" id="asrc_2core_2module_8c">
<area shape="rect" title=" " alt="" coords="328,5,453,32"/>
<area shape="rect" href="module_8h.html" title=" " alt="" coords="325,80,456,107"/>
<area shape="rect" href="ev__types_8h.html" title=" " alt="" coords="307,155,474,181"/>
<area shape="rect" title=" " alt="" coords="164,304,228,331"/>
<area shape="rect" title=" " alt="" coords="549,229,624,256"/>
<area shape="rect" href="resdef_8h.html" title=" " alt="" coords="251,229,381,256"/>
<area shape="rect" href="vec_8h.html" title=" " alt="" coords="5,229,176,256"/>
<area shape="rect" href="sds_8h_source.html" title=" " alt="" coords="405,229,525,256"/>
<area shape="rect" title=" " alt="" coords="649,229,741,256"/>
<area shape="rect" href="ev__macros_8h.html" title=" " alt="" coords="359,304,537,331"/>
<area shape="rect" title=" " alt="" coords="252,304,335,331"/>
<area shape="rect" title=" " alt="" coords="401,379,495,405"/>
<area shape="rect" title=" " alt="" coords="59,304,122,331"/>
<area shape="rect" title=" " alt="" coords="562,304,649,331"/>
<area shape="rect" title=" " alt="" coords="673,304,741,331"/>
</map>
</div>
</div>
<p><a href="module_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a93d4a99298484c076534e31652911530"><td class="memItemLeft" align="right" valign="top">evolmodule_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a93d4a99298484c076534e31652911530">ev_module_open</a> (CONST_STR modpath)</td></tr>
<tr class="memdesc:a93d4a99298484c076534e31652911530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a module into memory.  <a href="module_8c.html#a93d4a99298484c076534e31652911530">More...</a><br /></td></tr>
<tr class="separator:a93d4a99298484c076534e31652911530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20e4b0066b35f3771cb89086f47e2ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ae20e4b0066b35f3771cb89086f47e2ea">ev_module_close</a> (evolmodule_t module)</td></tr>
<tr class="memdesc:ae20e4b0066b35f3771cb89086f47e2ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unloads a module.  <a href="module_8c.html#ae20e4b0066b35f3771cb89086f47e2ea">More...</a><br /></td></tr>
<tr class="separator:ae20e4b0066b35f3771cb89086f47e2ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c6da9eb621ba449b65f30edd98766c1"><td class="memItemLeft" align="right" valign="top">FN_PTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#a2c6da9eb621ba449b65f30edd98766c1">ev_module_getfn</a> (evolmodule_t module, CONST_STR fn_name)</td></tr>
<tr class="memdesc:a2c6da9eb621ba449b65f30edd98766c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve function from module.  <a href="module_8c.html#a2c6da9eb621ba449b65f30edd98766c1">More...</a><br /></td></tr>
<tr class="separator:a2c6da9eb621ba449b65f30edd98766c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e4835b345dbb014ff807f005c06ff0"><td class="memItemLeft" align="right" valign="top">PTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="module_8c.html#ad6e4835b345dbb014ff807f005c06ff0">ev_module_getvar</a> (evolmodule_t module, CONST_STR var_name)</td></tr>
<tr class="memdesc:ad6e4835b345dbb014ff807f005c06ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve global variable from module.  <a href="module_8c.html#ad6e4835b345dbb014ff807f005c06ff0">More...</a><br /></td></tr>
<tr class="separator:ad6e4835b345dbb014ff807f005c06ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae20e4b0066b35f3771cb89086f47e2ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20e4b0066b35f3771cb89086f47e2ea">&#9670;&nbsp;</a></span>ev_module_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ev_module_close </td>
          <td>(</td>
          <td class="paramtype">evolmodule_t&#160;</td>
          <td class="paramname"><em>module</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unloads a module. </p>
<p>Due to modules internally being dynamic libraries, the operating system keeps a refcount for the number of places where they're used. So there are no guarantees that calling this function will call the module's destructor as it may be in use in other areas of the program.</p>
<dl class="section remark"><dt>Remarks</dt><dd>It's highly recommended to call <code>ev_module_open(...)</code> and <code>ev_module_close(...)</code> in pairs and to never share the returned module handles with external modules so that maintaining a defined behaviour is easier.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module</td><td>The module to unload </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="module_8c_source.html#l00034">34</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a id="a2c6da9eb621ba449b65f30edd98766c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c6da9eb621ba449b65f30edd98766c1">&#9670;&nbsp;</a></span>ev_module_getfn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FN_PTR ev_module_getfn </td>
          <td>(</td>
          <td class="paramtype">evolmodule_t&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fn_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve function from module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module</td><td>The module to search for the function </td></tr>
    <tr><td class="paramname">func_name</td><td>Name of the function to load</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the function was found, a function pointer is returned. Otherwise, <code>NULL</code> is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="module_8c_source.html#l00047">47</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a id="ad6e4835b345dbb014ff807f005c06ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6e4835b345dbb014ff807f005c06ff0">&#9670;&nbsp;</a></span>ev_module_getvar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PTR ev_module_getvar </td>
          <td>(</td>
          <td class="paramtype">evolmodule_t&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>var_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve global variable from module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">module</td><td>The module to search for the variable </td></tr>
    <tr><td class="paramname">var_name</td><td>Name of the variable to load</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the variable was found, its pointer is returned. Otherwise, <code>NULL</code> is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="module_8c_source.html#l00061">61</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
<a id="a93d4a99298484c076534e31652911530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d4a99298484c076534e31652911530">&#9670;&nbsp;</a></span>ev_module_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">evolmodule_t ev_module_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>modpath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a module into memory. </p>
<p>Due to modules internally being dynamic libraries, the operating system keeps a refcount for the number of places where they're used. Thus, calling this function doesn't guarantee that that the module will be loaded into memory as it may already be there, making the function simply return the same module and increase its refcount.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modpath</td><td>Path to the module</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>If the module was found and successfully loaded, then it is returned.</li>
<li>If the process fails, <code>NULL</code> is returned. </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="module_8c_source.html#l00013">13</a> of file <a class="el" href="module_8c_source.html">module.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
